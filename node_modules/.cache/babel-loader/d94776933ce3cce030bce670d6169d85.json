{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tgoan\\\\Desktop\\\\Web Development\\\\Projects\\\\barnwood\\\\src\\\\components\\\\paypalButton.js\";\nimport React from \"react\";\nimport { PayPalButton } from \"react-paypal-button-v2\";\nimport axios from \"axios\";\n\nfunction PayPalBtn(props) {\n  const productInfo = props.productInfo;\n  const userID = props.id;\n  const username = props.username;\n  let orderID = \"\";\n  return React.createElement(PayPalButton, {\n    createOrder: (data, actions) => {\n      axios.post(\"http://localhost:4000/orders/new\", {\n        productInfo,\n        userID,\n        username\n      }).then(res => {\n        if (res.status === 200) {\n          orderID = res.data._id;\n          console.log(\"orderID in createOrder: \", orderID);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n      return actions.order.create({\n        purchase_units: [{\n          amount: {\n            currency_code: \"USD\",\n            value: props.amount\n          }\n        }]\n      });\n    },\n    onSuccess: (details, data) => {\n      alert(\"Transaction completed by \" + details.payer.name.given_name);\n      console.log(\"orderID in onSuccess: \", orderID);\n      return axios.post(\"http://localhost:4000/orders/success\", {\n        data,\n        productInfo,\n        orderID\n      }).then(res => {\n        if (res.status === 200) {\n          console.log(res.data);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    onCancel: data => {\n      alert(\"Transaction cancelled\");\n      console.log(\"orderID in onCancel: \", orderID);\n      return axios.post(\"http://localhost:4000/orders/cancel\", {\n        orderID\n      }).then(res => {\n        if (res.status === 200) {\n          console.log(res.data);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    onError: err => {\n      alert(err);\n    },\n    options: {\n      clientId: \"Aab0HytBSMmwfskLkqetKsqoauh5OeKUp-nMUib58D9Tr4be-Mv7RRU5ws0L2i71D6Cky1MZwRZi55hu\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  });\n}\n\nexport default PayPalBtn;","map":{"version":3,"sources":["C:/Users/tgoan/Desktop/Web Development/Projects/barnwood/src/components/paypalButton.js"],"names":["React","PayPalButton","axios","PayPalBtn","props","productInfo","userID","id","username","orderID","data","actions","post","then","res","status","_id","console","log","catch","err","order","create","purchase_units","amount","currency_code","value","details","alert","payer","name","given_name","clientId"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport axios from \"axios\";\r\n\r\nfunction PayPalBtn(props) {\r\n  const productInfo = props.productInfo;\r\n  const userID = props.id;\r\n  const username = props.username;\r\n  let orderID = \"\";\r\n\r\n    return (\r\n        <PayPalButton\r\n          createOrder={(data, actions) => {\r\n            axios.post(\"http://localhost:4000/orders/new\",\r\n                {productInfo, userID, username}\r\n            ).then((res) => {\r\n                if(res.status === 200) {\r\n                    orderID = res.data._id;\r\n                    console.log(\"orderID in createOrder: \", orderID)\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            });\r\n            return actions.order.create({\r\n              purchase_units: [{\r\n                amount: {\r\n                  currency_code: \"USD\",\r\n                  value: props.amount\r\n                }\r\n              }]\r\n            })\r\n          }}\r\n\r\n          onSuccess={(details, data) => {\r\n            alert(\"Transaction completed by \" + details.payer.name.given_name);\r\n            console.log(\"orderID in onSuccess: \", orderID);\r\n\r\n            return axios.post(\"http://localhost:4000/orders/success\",\r\n              {data, productInfo, orderID}\r\n            ).then((res) => {\r\n                if(res.status === 200) {\r\n                  console.log(res.data);\r\n                }\r\n            }).catch((err) => {\r\n              console.log(err);\r\n            });\r\n          }}\r\n\r\n          onCancel={(data) => {\r\n            alert(\"Transaction cancelled\");\r\n            console.log(\"orderID in onCancel: \", orderID);\r\n\r\n            return axios.post(\"http://localhost:4000/orders/cancel\",\r\n              {orderID}\r\n            ).then((res) => {\r\n                if(res.status === 200) {\r\n                  console.log(res.data);\r\n                }\r\n            }).catch((err) => {\r\n              console.log(err);\r\n            });\r\n          }}\r\n\r\n          onError={(err) => {\r\n            alert(err);\r\n          }}\r\n\r\n          options={{clientId: \"Aab0HytBSMmwfskLkqetKsqoauh5OeKUp-nMUib58D9Tr4be-Mv7RRU5ws0L2i71D6Cky1MZwRZi55hu\"}}\r\n        />\r\n      );\r\n}\r\n\r\nexport default PayPalBtn;"]},"metadata":{},"sourceType":"module"}